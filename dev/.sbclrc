;;;; -*- Mode: Lisp; Syntax: ANSI-Common-Lisp; Base: 10 -*-

(require 'asdf)

(declaim (sb-ext:muffle-conditions sb-kernel:redefinition-warning))

#-quicklisp
(let ((quicklisp-init (merge-pathnames "quicklisp/setup.lisp"
                                       (user-homedir-pathname))))
  (when (probe-file quicklisp-init)
    (load quicklisp-init)))

(defun devdirs ()
  (directory (concatenate
              'string
              (sb-ext:posix-getenv "HOME")
              "/dev/*/*.asd")))

(loop for proj in (devdirs)
      do (pushnew (directory-namestring proj) asdf:*central-registry*))
