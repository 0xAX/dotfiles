#!/bin/bash

cmake -DCMAKE_INSTALL_PREFIX=/home/alex/disk2/mysql -DCONNECT_WITH_MONGO=OFF -DCONNECT_WITH_ODBC=OFF     \
      -DCONNECT_WITH_REST=OFF -DCONNECT_WITH_VCT=OFF -DCONNECT_WITH_XMAP=OFF -DCONNECT_WITH_ZIP=OFF      \
      -DENABLE_DTRACE=OFF -DFEATURE_SUMMARY=ON -DMYSQL_DATADIR=/home/alex/disk2/mysql/data               \
      -DPLUGIN_ARCHIVE=NO -DPLUGIN_AUDIT=NO -DPLUGIN_AUTH_0X0100=NO -DPLUGIN_AUTH_ED25519=NO             \
      -DPLUGIN_AUTH_PAM=NO -DPLUGIN_AUTH_PAM_V1=NO -DPLUGIN_AUTH_TEST_PLUGIN=NO -DPLUGIN_BLACKHOLE=NO    \
      -DPLUGIN_COLUMNSTORE=DYNAMIC -DPLUGIN_CONNECT=NO -DPLUGIN_DAEMON_EXAMPLE=NO                        \
      -DPLUGIN_DEBUG_KEY_MANAGEMENT=NO -DPLUGIN_DIALOG_EXAMPLES=NO -DPLUGIN_DISKS=NO -DPLUGIN_EXAMPLE=NO \
      -DPLUGIN_EXAMPLE_KEY_MANAGEMENT=NO -DPLUGIN_FEEDBACK=NO -DPLUGIN_FILE_KEY_MANAGEMENT=NO            \
      -DPLUGIN_FTEXAMPLE=NO -DPLUGIN_FUNC_TEST=NO -DPLUGIN_HANDLERSOCKET=NO                              \
      -DPLUGIN_HASHICORP_KEY_MANAGEMENT=NO -DPLUGIN_MROONGA=NO -DPLUGIN_PROVIDER_LZMA=NO                 \
      -DPLUGIN_PROVIDER_LZO=NO -DPLUGIN_PROVIDER_SNAPPY=NO -DPLUGIN_QA_AUTH_CLIENT=NO                    \
      -DPLUGIN_QA_AUTH_INTERFACE=NO -DPLUGIN_QA_AUTH_SERVER=NO -DPLUGIN_S3=NO -DPLUGIN_SERVER_AUDIT=NO   \
      -DPLUGIN_SPHINX=NO -DPLUGIN_SPIDER=NO -DPLUGIN_TEST_SQL_DISCOVERY=NO -DPLUGIN_TEST_SQL_SERVICE=NO  \
      -DPLUGIN_TEST_VERSIONING=NO -DPLUGIN_TYPE_TEST=NO -DWITH_ASAN=ON -DWITH_LIBAIO=ON -DWITH_MSAN=ON   \
      -DWITH_ROCKSDB_JEMALLOC=ON -DWITH_SYSTEMD=yes -DWITH_TSAN=ON -DWITH_UBSAN=ON -DWITH_URING=ON ../server && make

exit 0